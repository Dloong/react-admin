"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CustomConfigResolver = void 0;

var _path = require("path");

var _fs = require("fs");

var _sharedUtils = require("@walrus/shared-utils");

class CustomConfigResolver {
  constructor() {
    this.resolveGlobal = projectRoot => {
      const packageJsonPath = (0, _sharedUtils.getSystemPath)(projectRoot);

      const packageJson = _sharedUtils.readPkg.sync({
        cwd: packageJsonPath
      });

      const workspaceJestConfigPath = (0, _sharedUtils.getSystemPath)((0, _path.join)(projectRoot, 'jest.config.js'));
      return packageJson.jest || (0, _fs.existsSync)(workspaceJestConfigPath) && require(workspaceJestConfigPath) || {};
    };
  }

}

exports.CustomConfigResolver = CustomConfigResolver;