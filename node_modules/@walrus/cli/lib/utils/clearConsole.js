"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clearConsoleWithTitle = exports.generateTitle = void 0;

var _sharedUtils = require("@walrus/shared-utils");

const generateTitle = function generateTitle(checkUpdate) {
  const current = '0.0.1';
  const latest = '0.0.2';

  let title = _sharedUtils.chalk.bold.blue(`Walrus CLI v${current}`);

  if (process.env.WALRUS_CLI_TEST) {
    title += ' ' + _sharedUtils.chalk.blue.bold('TEST');
  }

  if (process.env.WALRUS_CLI_DEBUG) {
    title += ' ' + _sharedUtils.chalk.magenta.bold('DEBUG');
  }

  if (checkUpdate && _sharedUtils.semver.gt(latest, current)) {
    if (process.env.WALRUS_CLI_API_MODE) {
      title += _sharedUtils.chalk.green(` 🌟️ Update available: ${latest}`);
    } else {
      title += _sharedUtils.chalk.green(`
┌────────────────────${`─`.repeat(latest.length)}──┐
│  Update available: ${latest}  │
└────────────────────${`─`.repeat(latest.length)}──┘`);
    }
  }

  return title;
};

exports.generateTitle = generateTitle;

const clearConsoleWithTitle = function clearConsoleWithTitle(checkUpdate) {
  const title = generateTitle(checkUpdate);
  (0, _sharedUtils.clearConsole)(title);
};

exports.clearConsoleWithTitle = clearConsoleWithTitle;